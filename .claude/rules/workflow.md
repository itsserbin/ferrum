# Workflow Rules

## Git
NEVER commit or push directly to `main`.
ALWAYS create a feature branch for any change.
If work was accidentally committed to `main`:
1. Create a new branch from the current state: `git checkout -b feat/name`
2. Reset `main` to the upstream: `git checkout main && git reset --hard origin/main`

## Auto-generated Files
NEVER edit files generated by tools (cargo-dist outputs, generated GitHub Actions
templates, generated Cargo.lock entries, etc.).
Create separate files or new workflow files alongside them instead.

## Subagents
ALWAYS use `model: sonnet` when dispatching subagents via the Task tool.

## Verification Before Completion
NEVER claim that work is complete without running:
- `cargo clippy` — must produce zero warnings
- `cargo test` — all tests must pass

NEVER say "tests pass" or "no warnings" without actually running those commands
and seeing the output.
